(this["webpackJsonpsmall-business"]=this["webpackJsonpsmall-business"]||[]).push([[0],{85:function(e,t,n){},86:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),i=n(10),r=n.n(i),c=(n(85),n(86),n(24)),o=n(75),l=n(8),d=n(67),u=n.n(d),h=n(17),j=n(130),p=n(134),m=n(135),b=n(136),g=n(137),O=n(138),v=n(22),f=n(73),x=n.n(f),A=n(2),y=function(e){return console.log(e),Object(A.jsx)(j.a,{maxWidth:"lg",className:"listing-container",children:Object(A.jsxs)(p.a,{children:[Object(A.jsx)(m.a,{children:Object(A.jsxs)(b.a,{children:[Object(A.jsx)(g.a,{children:"Name"}),Object(A.jsx)(g.a,{children:"Description"}),Object(A.jsx)(g.a,{children:"Hours"}),Object(A.jsx)(g.a,{children:"Address"})]})}),Object(A.jsx)(O.a,{children:e.listings.map((function(t,n){return Object(A.jsxs)(b.a,{children:[Object(A.jsx)(g.a,{component:"th",scope:"row",children:Object(A.jsxs)(v.b,{to:"/listing/".concat(t.id),onClick:function(){return e.updateMap(t.address)},children:[" ",t.name]})}),Object(A.jsx)(g.a,{children:t.description}),Object(A.jsx)(g.a,{children:t.hours}),Object(A.jsx)(g.a,{children:t.address}),Object(A.jsx)(g.a,{children:"loggedIn=true"===document.cookie?Object(A.jsx)(x.a,{onClick:function(){return e.removeListing(n)},className:"icon text-red"}):null})]},t.id)}))})]})})},w=function(e){return{type:"UPDATE_MAP",value:e}},N=Object(h.b)((function(e){return{user:e.user,listings:e.listings,map:e.map}}),(function(e){return{removeListing:function(t){return e(function(e){return{type:"REMOVE_LISTING",value:e}}(t))},updateMap:function(t){return e(w(t))}}}))(y),C=n(50),T=n(51),L=n(53),M=n(52),S=n(143),B=n(144),k=n(139),I=n(74),D=Object(I.a)({palette:{primary:{main:"#E0E0E0"}}}),E=function(e){Object(L.a)(n,e);var t=Object(M.a)(n);function n(){var e;Object(C.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={loggedIn:!1,username:"",password:""},e.handleChange=function(t){var n=Object(c.a)({},e.state);n[t.target.name]=t.target.value,e.setState(n)},e.handleLogin=function(t){t.preventDefault();var n=e.state;n.loggedIn=!0,e.props.loginUser(n),document.cookie="loggedIn=true;max-age=60x10000"},e}return Object(T.a)(n,[{key:"render",value:function(){return Object(A.jsx)(k.a,{theme:D,children:Object(A.jsxs)("form",{className:"form",onSubmit:this.handleLogin,children:[Object(A.jsx)(S.a,{required:!0,onChange:this.handleChange,value:this.state.username,name:"username",className:"input",label:"Username",type:"text"}),Object(A.jsx)(S.a,{required:!0,onChange:this.handleChange,name:"password",value:this.state.password,className:"input",label:"Password",type:"password"}),Object(A.jsxs)(B.a,{type:"submit",variant:"contained",color:"primary",children:["Login",this.state.loggedIn?Object(A.jsx)(l.a,{to:"/"}):null]})]})})}}]),n}(s.Component),X=Object(h.b)((function(e){return{user:e.user}}),(function(e){return{loginUser:function(t){return e(function(e){return{type:"LOGIN_USER",value:e}}(t))}}}))(E),P=n(140);n(65).config();var F=function(e){var t=e.map,n=t.toString().split(" ").join("+");return""===t?null:Object(A.jsx)("div",{className:"map",children:Object(A.jsx)("iframe",{title:"map",width:"450",height:"350",frameBorder:"0",src:"https://www.google.com/maps/embed/v1/place?key=".concat("AIzaSyCvLozyym_Bo2mYiiW61EPctnFFTLBtZCM","&q=").concat(n),allowFullScreen:!0})})},G=Object(h.b)((function(e){return{map:e.map}}))(F),q=function(e){var t=e.match.params.id,n=e.listings.find((function(e){return e.id===Number(t)}));return Object(A.jsxs)(j.a,{maxWidth:"sm",children:[Object(A.jsxs)("div",{children:[Object(A.jsx)(P.a,{variant:"h3",gutterBottom:!0,children:n.name}),Object(A.jsx)(P.a,{variant:"h6",gutterBottom:!0,children:n.address}),Object(A.jsx)(P.a,{variant:"h6",gutterBottom:!0,children:n.hours}),Object(A.jsx)(P.a,{variant:"body1",gutterBottom:!0,children:n.description})]}),Object(A.jsx)("div",{children:Object(A.jsx)(G,{address:e.map})})]})},_=Object(h.b)((function(e){return{listings:e.listings,map:e.map}}))(q),R=Object(I.a)({palette:{primary:{main:"#E0E0E0"}}}),U=function(e){Object(L.a)(n,e);var t=Object(M.a)(n);function n(){var e;Object(C.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={name:"",address:"",hours:"",description:""},e.handleChange=function(t){var n=Object(c.a)({},e.state);n[t.target.name]=t.target.value,e.setState(n),console.log("Address: ",e.state.address),console.log(e.props)},e.handleFocus=function(t){if(""===e.state.address)e.props.updateMap("Austin, TX");else{t.preventDefault();var n=Object(c.a)({},e.state);n[t.target.address]=t.target.value,e.setState(n),console.log("New address:",e.state.address),e.props.updateMap(e.state.address)}},e.handleSubmit=function(t){t.preventDefault();var n=e.state;n.id=e.props.listings.length+1,console.log("Listing: ",n),e.props.addListing(n),e.props.updateMap("Austin, TX"),e.setState({name:"",address:"",hours:"",description:""})},e}return Object(T.a)(n,[{key:"render",value:function(){return Object(A.jsx)(k.a,{theme:R,children:Object(A.jsxs)("div",{className:"businessDetails",children:[Object(A.jsxs)("form",{className:"form",onLoad:this.handleLoad,onSubmit:this.handleSubmit,children:[Object(A.jsx)(S.a,{required:!0,onChange:this.handleChange,value:this.state.name,name:"name",className:"input",label:"Name",type:"text"}),Object(A.jsx)(S.a,{required:!0,onChange:this.handleChange,onBlur:this.handleFocus,value:this.state.address,name:"address",className:"input",label:"Address",type:"text"}),Object(A.jsx)(S.a,{required:!0,onChange:this.handleChange,value:this.state.hours,name:"hours",className:"input",label:"Hours",type:"text"}),Object(A.jsx)(S.a,{required:!0,onChange:this.handleChange,value:this.state.description,name:"description",className:"input",label:"Description",type:"text"}),Object(A.jsx)(B.a,{type:"submit",variant:"contained",color:"primary",children:"Save"})]}),Object(A.jsx)(G,{})]})})}}]),n}(s.Component),z=Object(h.b)((function(e){return{listings:e.listings}}),(function(e){return{addListing:function(t){return e(function(e){return{type:"ADD_LISTING",value:e}}(t))},updateMap:function(t){return e(w(t))}}}))(U),V=function(e){var t=e.component,n=Object(o.a)(e,["component"]);return Object(A.jsx)(l.b,Object(c.a)(Object(c.a)({},n),{},{render:function(e){return u.a.parse(document.cookie).loggedIn?Object(A.jsx)(t,Object(c.a)({},e)):Object(A.jsx)(l.a,{to:"/login"})}}))},W=function(){return Object(A.jsxs)(l.d,{children:[Object(A.jsx)(l.b,{path:"/login",component:X}),Object(A.jsx)(l.b,{exact:!0,path:"/",component:N}),Object(A.jsx)(l.b,{path:"/listing/:id",component:_}),Object(A.jsx)(V,{path:"/add",component:z})]})},H=n(34),J=n(59),Y=Object(H.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_USER":return[t.value];default:return e}},listings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_LISTING":return[].concat(Object(J.a)(e),[t.value]);case"REMOVE_LISTING":var n=Object(J.a)(e);return n.splice(t.value,1),n;default:return e}},map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_MAP":return t.value;default:return e}}}),Z={user:[{loggedIn:!1,username:"",password:""}],listings:[{id:1,name:"Austin Books & Comics",description:"Longtime shop featuring an array of comic books, plus graphic novels & pop culture paraphernalia.",hours:"11AM\u20137PM",address:"5002 N Lamar Blvd, Austin, TX 78751"},{id:2,name:"Lucy in Disguise with Diamonds",description:"Enormous outpost offering costumes, vintage clothing, boas, masks, wigs, prop & other glitz.",hours:"11AM\u20137PM",address:"1506 S Congress Ave, Austin, TX 78704"},{id:3,name:"I Luv Video",description:"Independent shop rents & sells rare movies & TV shows, plus vintage toys & memorabilia.",hours:"Temporarily Closed",address:"4803 Airport Blvd, Austin, TX 78751"},{id:4,name:"Tribe Comics and Games",description:"Spare setup featuring a vast selection of comic books, plus gaming supplies & collectibles.",hours:"10AM\u20138PM",address:"3005 S Lamar Blvd #d113, Austin, TX 78704"},{id:5,name:"The Domain",description:"Outdoor mall offering a variety of upscale shops & department stores plus dining options & a cinema.",hours:"11AM\u20138PM",address:"11410 Century Oaks Terrace, Austin, TX 78758"},{id:6,name:"Banger's Sausage House & Beer Garden",description:"Abundant sausages & beers on tap inside a rustic-chic cottage or outside in the leafy beer garden.",hours:"12\u20139PM",address:"79 Rainey St, Austin, TX 78701"},{id:7,name:"June's",description:"Chic option for inventive New American fare, cocktails, beer & wine in a bright space with a patio.",hours:"11AM\u201310PM",address:"1722 S Congress Ave, Austin, TX 78704"},{id:8,name:"Mozarts Coffee Roasters",description:"Beans flame-roasted on-site, plus bakery goods, frequent live music & patio seating on Lake Austin.",hours:"7AM\u201312AM",address:"3825 Lake Austin Blvd, Austin, TX 78703"},{id:9,name:"4th Tap Brewing Co-Op ",description:"Spacious worker-owned microbrewery with picnic tables & a projector screen in an industrial taproom.",hours:"4\u20139PM",address:"10615 Metric Blvd, Austin, TX 78758"},{id:10,name:"Whisler's",description:"Rustic-chic watering hole featuring handcrafted cocktails & a patio with frequent live music shows.",hours:"4PM\u20132AM",address:"1816 E 6th St, Austin, TX 78702"}],map:"Austin,+TX"},K=Object(H.c)(Y,Z),Q=n(141),$=n(142),ee=Object(I.a)({palette:{primary:{main:"#3BB371",contrastText:"#fff"}}}),te=function(e){return Object(A.jsx)(k.a,{theme:ee,children:"loggedIn=true"===document.cookie?Object(A.jsxs)(Q.a,{className:"NavBar",position:"relative",children:[Object(A.jsxs)($.a,{children:[Object(A.jsx)(P.a,{variant:"h6",style:{flexGrow:"1"},children:"Dog Friendly ATX"}),Object(A.jsxs)("ul",{className:"nav-list",children:[Object(A.jsx)("li",{className:"nav-list-item",children:Object(A.jsx)(v.b,{to:"/",children:"Listings"})}),Object(A.jsx)("li",{className:"nav-list-item",children:Object(A.jsx)(v.b,{to:"/add",onClick:function(){e.updateMap("Austin, TX"),console.log("Back to Austin?")},children:"Add"})}),Object(A.jsx)("li",{className:"nav-list-item",children:Object(A.jsx)(v.b,{to:"/login",onClick:function(){window.location.replace("/login"),document.cookie="loggedIn=false"},children:"Logout"})})]})]}),Object(A.jsx)("div",{className:"welcomeBanner",children:Object(A.jsxs)("h6",{children:["Logged in as: ","".concat(e.user[0].username)]})})]}):Object(A.jsx)(Q.a,{className:"NavBar",position:"relative",children:Object(A.jsxs)($.a,{children:[Object(A.jsx)(P.a,{variant:"h6",style:{flexGrow:"1"},children:"Dog Friendly ATX"}),Object(A.jsxs)("ul",{className:"nav-list",children:[Object(A.jsx)("li",{className:"nav-list-item",children:Object(A.jsx)(v.b,{to:"/",children:"Listings"})}),Object(A.jsx)("li",{className:"nav-list-item",children:Object(A.jsx)(v.b,{to:"/login",children:"Login"})})]})]})})})},ne=Object(h.b)((function(e){return{user:e.user,map:e.map}}),(function(e){return{updateMap:function(t){return e(w(t))}}}))(te);var se=function(){return Object(A.jsx)(h.a,{store:K,children:Object(A.jsxs)(v.a,{basename:"ATXBusinessApp",children:[Object(A.jsx)(ne,{className:"nav-bar"}),Object(A.jsx)(W,{})]})})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,145)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),i(e),r(e)}))};n(65).config(),r.a.render(Object(A.jsx)(a.a.StrictMode,{children:Object(A.jsx)(se,{})}),document.getElementById("root")),ae()}},[[99,1,2]]]);
//# sourceMappingURL=main.ef89bd1d.chunk.js.map